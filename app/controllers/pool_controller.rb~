class PoolController < ApplicationController
	before_action :signed_in_as_admin, only: [:new, :create, :edit]
  def index
  end

  def show
  end

  def new
	  @pool = Pool.new
  end

  def create
	  @pool=Pool.new(pool_params)
	  if @pool.save
		  flash[:success] = "Pool successfully created"
		  redirect_to @pool
	  else
		render 'new'	 
	  end
	
  end

  def edit
  end
  


  private
  def pool_params
	params.require(:pool).permit(:name, :institution, :description, :specialization)
  end
  def signed_in_as_admin
  
  	if signed_in?
		if current_user.profile_type=="Admin"
		else
			redirect_to signin_url, notice: "You do not have permission to do that."
		end
	else
		store_location
		redirect_to signin_url, notice: "Please sign in."
	end
  
  end
end
